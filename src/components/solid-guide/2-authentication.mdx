import Content from "../content";
import Code from "../code";
import browserSolidLdoProvider from "./BrowserSolidLdoProvider-example.tsx?raw"
import authenticationDemo from "./authentication-demo.tsx?raw"
import AuthenticationDemo from "./authentication-demo";
import Box from "../box";
import CodeStep from "../code/step";

<Content>
    <h2 className="subtitle">Authentication</h2>

    Solid supports authentication through the [Solid-OIDC](https://solid.github.io/solid-oidc/) specification, which
    builds upon the [OpenID Connect](https://openid.net/connect/) standards, which itself builds upon the [OAuth
    2.0](https://datatracker.ietf.org/doc/html/rfc6749) authorization framework. In other words, a lot of work has gone
    into making sure that Solid features proper authentication.

    Authentication is a vital pillar of the Solid framework, together with authorization and apps using data
    interchangeably. Usually it has been a chore to set this up in applications, but using the authentication features
    of [@ldo/solid-react](https://github.com/o-development/ldobjects/tree/main/packages/solid-react) (or rather
    [@inrupt/solid-client-authn-core](https://github.com/inrupt/solid-client-authn-js) which it relays) it has become
    much easier.

    To set it up we need to insert `BrowserSolidLdoProvider` somewhere early in our app.
</Content>

<Code language="tsx" id="BrowserSolidLdoProvider" code={browserSolidLdoProvider} noCopy={true}/>

<Content>
    Later on we can use `useSolidAuth` to get what we need wrt authentication.
</Content>

<Box>
    <AuthenticationDemo id="AuthenticationDemo"/>
</Box>

<Content>
    And here's the code for the demo above:
</Content>

<Code language="tsx" id="AuthenticationDemo" code={authenticationDemo} className="line-numbers">
    <CodeStep lines={["5", "7", "10", "12", "18"]} title={"Logging in and out"}>
        Here we make use of `login`, `logout`, and `session` from `useSolidAuth`. Using this we can show different views
        whether or not the user is logged in (using `session.isLoggedIn`). We also make use of the `Login` component to
        simplify the login view.
    </CodeStep>
</Code>

<Content>
    There are other ways to authenticate with Solid, but that is beyond the scope of this website.
</Content>