import Content from "../../content";
import Code from "../../code";
import localDemoCode from "./index.tsx?raw";
import {PROFILE_TURTLE} from "../../../constants";
import {NavLink} from "react-router-dom";
import CodeStep from "../../code/step";

<Content>
    <h2 className="subtitle">Code</h2>

    This demo loads and saves a given name to `localStorage`. If no data is saved in `localStorage` from before, it will
    use a pre-set turtle that contains a simple profile with the name "Test".
</Content>

<Code language="turtle" id="ProfileTurtle" code={PROFILE_TURTLE} noCopy={true}/>

<Content>
    (If the above code doesn't make sense for you, you might want to consider reading the <NavLink to={"/rdf"}>guide on
    RDF</NavLink>.)
</Content>

<Code language="tsx" id="RdflibLocalDemo" code={localDemoCode} className="line-numbers">
    <CodeStep lines={["8"]} title="Store setup">
        Setting up the store that's going to contain our data.
    </CodeStep>
    <CodeStep lines={["16", "18"]} title="Parsing turtle and loading name">
        Loading existing data from either default turtle or saved turtle from `localStorage`. Notice the fallback `"[no
        name found]"` if no value was found for `foaf:name`.
    </CodeStep>
    <CodeStep lines={["24-26", "28-30"]} title="Updating turtle in `localStorage` and name">
        Upon submitting the form, a new triple with the name is inserted while the old name is removed in
        another triple. The store is then serialized and `localStorage` is updated with the new Turtle string.
    </CodeStep>
    <CodeStep lines={["12", "17", "27", "33-34"]} title="Error handling">
        There might arise errors when parsing the turtle, and if that happens we want to reflect that.
    </CodeStep>
</Code>