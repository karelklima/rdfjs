import Content from "../content";
import FrontpageDemo from "./demo";
import DemoCode from "../demo/code.mdx";
import AuthorNote from "../author-note";
import Install from "../install";
import {NavLink} from "react-router-dom";

<Content id="demo">
    <h2 className="subtitle">How does the demo work?</h2>

    All of the demos use the same component, the `Demo` component. It takes two properties, `name` and `onSubmit`. The
    component presents a form with one simple text input, which presents the name. The form can be submitted, at which
    point the function `onSubmit` will be called.

    If you want to use the code examples in your own code, there are some dependencies that you should install:
</Content>

<Install name="react @ldo/solid-react react-hook-form use-local-storage bulma clsx"/>

<Content>
    Also, you should check out the <NavLink to="/react">guide on React</NavLink> if you want to know more about setting
    this website up yourself.
</Content>

<Content>
    The demo below will not store anything, so refreshing the webpage will reset all changes.
</Content>

<FrontpageDemo/>

<Content>
    This code is written in [TSX](https://www.typescriptlang.org/docs/handbook/jsx.html), a language that combines
    Typescript and ESM files. It's specifically written with React in mind, and relies a lot on [React
    Hooks](https://react.dev/reference/react). That said, I think the overall abstractions are clear, and I'll walk you
    through the various parts:
</Content>

<DemoCode />

<AuthorNote title="On error handling">
    **Error handling is hard!** One thing is the technical aspect, but another is how to convey errors outside of your
    control (and mitigate those within). So I'm not going to claim that how I handle the errors in the demos are a good
    way of doing it. It's really something you have to figure out for your app. But know that there are many errors that
    can happen that are outside of your control, and a good library helps you mitigate those errors in a way that
    doesn't make your code into an entangled mess.
</AuthorNote>